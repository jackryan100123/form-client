<div class="container">
  <h1 class="section-title">
    SCENE OF CRIME PANCHNAMA
  </h1>
  <h4 class="subhead"> 
    (u/s 176(3) BNSS)
  </h4>

  <form [formGroup]="form">
    <div formGroupName="meta">
      <div class="form-group">
        <label for="district">District:</label>
        <input nz-input type="text" id="district" formControlName="district" [readonly]="readonly_state.district">
      </div>
      <div class="form-group">
        <label for="ps">PS:</label>
        <input nz-input type="text" id="ps" formControlName="ps" [readonly]="readonly_state.ps">
      </div>
      <div class="form-group">
        <label for="year">Year:</label>
        <input nz-input type="text" id="year" formControlName="year" [readonly]="readonly_state.year">
      </div>
      <div class="form-group">
        <label for="fir">FIR/GD No.:</label>
        <input nz-input type="text" id="fir" formControlName="fir_gd" [readonly]="readonly_state.fir_gd">
      </div>
      <div class="form-group" *ngIf="readonly_state.date">
        <label for="date">Date:</label>
        <input nz-input type="text" id="fir" formControlName="date" [readonly]="readonly_state.date">
      </div>
      <div class="form-group" *ngIf="!readonly_state.date">
        <label for="date">Date:</label>
        <nz-date-picker formControlName="date" [nzFormat]="'dd/MM/yyyy'"></nz-date-picker>
      </div>
    </div>

    <div class="scroll">
      <table id="propertyTable">
        <thead>
          <tr>
            <th>Acts</th>
            <th>Sections</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of $table; let table_offset = index;">
            <td>
              <input nz-input type="text" id="acts"
                [ngModelOptions]="{standalone: true}" [(ngModel)]="item.acts">
            </td>
            <td>
              <input nz-input type="text" id="section"
                [ngModelOptions]="{standalone: true}"
                [(ngModel)]="item.section">
            </td>
            <td>
              <button nz-button type="button" nzType="primary"
                [disabled]="$table.length === 1"
                (click)="removeTable(table_offset)">
                <i nz-icon nzType="minus-circle"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      <button
        nz-button type="button"
        nzType="primary"
        (click)="addTable()">Add Section</button>
    </div>

    <h6 nz-typography>
      Description of Scene of Crime:
    </h6>
    <textarea nz-input placeholder="Description of Scene of Crime"
      formControlName="descroption_scene_crime" style="margin-bottom: 18px;"
    ></textarea>

    <div class="scroll">
      <h6 nz-typography>Exhibits Lifted:</h6>
      <table id="naturePropertyTable">
        <thead>
          <tr>
            <th>S.No.</th>
            <th>
              Exhibit
            </th>
            <th>
              Remarks
            </th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="let item of $exhibits_lifted; let item_offset = index;">
            <td>{{item_offset + 1}}</td>
            <td>
              <input nz-input type="text" id="natureProperty"
                [ngModelOptions]="{standalone: true}"
                [(ngModel)]="item.exhibit">
            </td>

            <td>
              <input nz-input type="text" id="propertyCategory"
                [ngModelOptions]="{standalone: true}"
                [(ngModel)]="item.remarks">
            </td>

            <td>
              <button nz-button type="button" nzType="primary"
                [disabled]="$exhibits_lifted.length === 1"
                (click)="removeExhibitsLifted(item_offset)">
                <i nz-icon nzType="minus-circle"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      <button nz-button type="button" nzType="primary"
        (click)="addExhibitsLifted()">Add Exhibit</button>
    </div>

    <div class="scroll" formGroupName="witness">
      <h6 nz-typography>Witnesses 01:</h6>
      <div class="form-group">
        <label for="witnessName">Name:</label>
        <input nz-input type="text" id="witnessName" formControlName="name">
      </div>
      <div class="form-group">
        <label for="witnessFatherName">Father's/Husband's
          Name:</label>
        <input nz-input type="text" id="witnessFatherName"
          formControlName="father_name">
      </div>
      <div class="form-group">
        <label for="witnessAge">Age:</label>
        <input nz-input type="text" id="witnessAge" formControlName="age">
      </div>
      <div class="form-group">
        <label for="witnessAge">Occupation:</label>
        <input nz-input type="text" id="witnessAge"
          formControlName="occupation">
      </div>

      <div class="form-group">
        <label for="witnessesAddress">Permanent Address:</label>
        <textarea nz-input id="witnessesAddress" formControlName="address"
          rows="4"></textarea>
      </div>
    </div>

    <div class="scroll" formGroupName="other_witness">
      <h6 nz-typography>Witnesses 02:</h6>
      <div class="form-group">
        <label for="witnessName">Name:</label>
        <input nz-input type="text" id="witnessName" formControlName="name">
      </div>
      <div class="form-group">
        <label for="witnessFatherName">Father's/Husband's
          Name:</label>
        <input nz-input type="text" id="witnessFatherName"
          formControlName="father_name">
      </div>
      <div class="form-group">
        <label for="witnessAge">Age:</label>
        <input nz-input type="text" id="witnessAge" formControlName="age">
      </div>
      <div class="form-group">
        <label for="witnessAge">Occupation:</label>
        <input nz-input type="text" id="witnessAge"
          formControlName="occupation">
      </div>

      <div class="form-group">
        <label for="witnessesAddress">Permanent Address:</label>
        <textarea nz-input id="witnessesAddress" formControlName="address"
          rows="4"></textarea>
      </div>
    </div>

    <div class="submit-button-container" style="width: 100%;">
      <button style="width: 100%;" nz-button nzType="primary" type="submit" id="submitButton"
        [disabled]="!isFormValid()"
        (click)="prepraeData()"
        class="submit-button" disabled>Submit</button>
    </div>
  </form>
</div>